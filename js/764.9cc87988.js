"use strict";(self["webpackChunkedomaeZushi"]=self["webpackChunkedomaeZushi"]||[]).push([[764],{2316:function(e,l,s){s.d(l,{Z:function(){return D},_:function(){return k}});var t=s(3396),o=s(7139);const a={class:"modal fade",tabindex:"-1","aria-labelledby":"delModalLabel","aria-hidden":"true",ref:"delModal"},d={class:"modal-dialog modal-dialog-centered"},i={class:"modal-content"},r={class:"modal-header"},n={class:"modal-title",id:"delModalLabel"},c=(0,t._)("i",{class:"bi bi-exclamation-triangle-fill text-danger me-2"},null,-1),m={key:0,class:"text-danger mx-1"},p={key:1,class:"text-danger mx-1"},b=(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),h=(0,t._)("div",{class:"modal-body"},"刪除之後資料不可逆，不可反悔喔！",-1),g={class:"modal-footer"},u=(0,t._)("button",{type:"button",class:"btn btn-link text-decoration-none text-secondary","data-bs-dismiss":"modal"}," 取消 ",-1),_=["disabled"],w={key:0,class:"spinner-border spinner-border-sm align-middle me-1",role:"status"},v=(0,t._)("span",{class:"visually-hidden"},"Loading...",-1),f=[v],P={key:1,class:"bi bi-trash-fill me-1"};function y(e,l,s,v,y,k){return(0,t.wg)(),(0,t.iD)("div",a,[(0,t._)("div",d,[(0,t._)("div",i,[(0,t._)("div",r,[(0,t._)("h5",n,[c,(0,t.Uk)(" 熊孩子，您確定要刪除 "),s.delItem.title?((0,t.wg)(),(0,t.iD)("span",m,(0,o.zw)(s.delItem.title),1)):((0,t.wg)(),(0,t.iD)("span",p,(0,o.zw)(s.delItem.id),1)),(0,t.Uk)(" 嗎？ ")]),b]),h,(0,t._)("div",g,[u,(0,t._)("button",{type:"button",class:"btn btn-danger",onClick:l[0]||(l[0]=e=>k.delProdBtn(s.delItem.id)),disabled:y.isLoading===s.delItem.id},[y.isLoading===s.delItem.id?((0,t.wg)(),(0,t.iD)("div",w,f)):((0,t.wg)(),(0,t.iD)("i",P)),(0,t.Uk)("確定刪除 ")],8,_)])])])],512)}let k=null;var x={data(){return{isLoading:""}},props:["delItem","pageName"],methods:{delProdBtn(e){this.isLoading=e;let l="";"prodsList"===this.pageName?l=`https://vue3-course-api.hexschool.io/v2/api/letcla/admin/product/${e}`:"orders"===this.pageName?l=`https://vue3-course-api.hexschool.io/v2/api/letcla/admin/order/${e}`:"coupons"===this.pageName&&(l=`https://vue3-course-api.hexschool.io/v2/api/letcla/admin/coupon/${e}`),this.$http.delete(l).then((e=>{this.isLoading="",this.$emit("get-item"),k.hide(),setTimeout((()=>{alert(e.data.message)}),1e3)})).catch((e=>{this.isLoading="",k.hide(),alert(e.response.data.message)}))}},mounted(){k=new bootstrap.Modal(this.$refs.delModal,{keyboard:!1})}},U=s(89);const C=(0,U.Z)(x,[["render",y]]);var D=C},5764:function(e,l,s){s.r(l),s.d(l,{default:function(){return Ql}});var t=s(3396),o=s(7139),a=s(9242);const d={class:"text-center my-3"},i={class:"mb-3"},r=(0,t._)("h2",null,"產品列表",-1),n={class:"fs-7 text-secondary"},c=(0,t._)("i",{class:"bi bi-pencil-square me-1"},null,-1),m=(0,t._)("span",null,"新增商品",-1),p=[c,m],b={key:0},h=(0,t._)("div",{class:"text-center"},[(0,t._)("p",null,"尚無建立產品，您的鐵粉在哭哭！")],-1),g=[h],u={key:1},_={class:"row my-4 mb-lg-5"},w={class:"col-lg-4 col-xl-3 offset-lg-8 offset-xl-9"},v={class:"search"},f={class:"input-group"},P=(0,t._)("span",{class:"input-group-text",id:"search"},[(0,t._)("i",{class:"bi bi-search text-secondary"})],-1),y=(0,t.uE)('<div class="row g-3 mx-1 d-none d-lg-flex pb-2 border-bottom border-2 border-dark"><div class="col-lg-1"><h3 class="h6 fw-bold">#</h3></div><div class="col-lg-2"><h3 class="h6 fw-bold">分類</h3></div><div class="col-lg-5"><h3 class="h6 fw-bold">名稱</h3></div><div class="col-lg-2"><h3 class="h6 fw-bold">是否啟用</h3></div><div class="col-lg-2"><h3 class="h6 fw-bold">編輯／刪除</h3></div></div>',1),k={class:"col-lg-1"},x={class:"mb-0 fw-bold"},U=(0,t._)("span",{class:"fw-bold d-lg-none me-1"},"#",-1),C={class:"col-lg-2"},D=(0,t._)("h3",{class:"h6 fw-bold d-lg-none"},"分類",-1),N={class:"mb-0"},$={class:"col-lg-5"},M={class:""},z=(0,t._)("h3",{class:"h6 fw-bold d-lg-none"},"名稱",-1),L=["onClick"],I=(0,t._)("h3",{class:"h6 fw-bold d-lg-none"},"價格",-1),V={key:0,class:"fs-7"},A={key:1,class:"fs-7"},J={class:"col-lg-2"},T=(0,t._)("h3",{class:"h6 fw-bold d-lg-none"},"是否啟用",-1),Y={class:"form-check form-switch"},O=["id","onUpdate:modelValue","onChange"],S=["for"],Z={key:0,class:"text-light-green fw-bold"},H={key:1,class:"text-danger"},B={class:"col-lg-2"},G=(0,t._)("h3",{class:"h6 fw-bold d-lg-none"},"編輯／刪除",-1),K={class:"btn-group",role:"group"},W=["onClick"],q=(0,t._)("i",{class:"bi bi-pencil-fill"},null,-1),E=[q],j=["onClick"],F=(0,t._)("i",{class:"bi bi-trash-fill"},null,-1),Q=[F];function R(e,l,s,c,m,h){const q=(0,t.up)("AdminProdViewComp"),F=(0,t.up)("CreateProdComp"),R=(0,t.up)("DelAdminComp");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",d,[(0,t._)("div",i,[r,(0,t._)("span",n," 【目前共有 "+(0,o.zw)(Object.keys(m.adminProds).length)+" 項產品】 ",1)]),(0,t._)("button",{type:"button",class:"btn btn-dark",onClick:l[0]||(l[0]=e=>h.openModal("new"))},p)]),0===m.adminProds.length?((0,t.wg)(),(0,t.iD)("div",b,g)):((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",_,[(0,t._)("div",w,[(0,t._)("div",v,[(0,t._)("div",f,[P,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"搜尋壽司名稱","aria-label":"search","aria-describedby":"search","onUpdate:modelValue":l[1]||(l[1]=e=>m.searchItem=e)},null,512),[[a.nr,m.searchItem,void 0,{trim:!0}]])])])])]),y,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(m.copyProds,((l,s)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["row g-3 mx-1 my-3 my-lg-0 border-bottom py-3 py-lg-0 customer-card",{"text-gray-500":1!==l.is_enabled}]),key:l.id},[(0,t._)("div",k,[(0,t._)("p",x,[U,(0,t.Uk)((0,o.zw)(s+1),1)])]),(0,t._)("div",C,[D,(0,t._)("p",N,(0,o.zw)(l.category),1)]),(0,t._)("div",$,[(0,t._)("div",M,[z,(0,t._)("p",{class:(0,o.C_)(["fw-bold text-decoration-underline cursor-pointer",[{"text-danger":l.origin_price!==l.price&&1===l.is_enabled},{"text-gray-500":1!==l.is_enabled}]]),onClick:e=>h.openModal("detail",l)},(0,o.zw)(l.title),11,L)]),(0,t._)("div",null,[I,l.origin_price!==l.price?((0,t.wg)(),(0,t.iD)("div",V,[(0,t._)("del",null," 原價："+(0,o.zw)(e.$filters.currencyJPY(l.origin_price)),1),(0,t._)("p",{class:(0,o.C_)(["fw-bold mb-3",[{"text-danger":1===l.is_enabled},{"text-gray-500":1!==l.is_enabled}]])}," 售價："+(0,o.zw)(e.$filters.currencyJPY(l.price)),3)])):((0,t.wg)(),(0,t.iD)("div",A,[(0,t._)("p",{class:(0,o.C_)(["fw-bold mb-3",[{"text-light-green":1===l.is_enabled},{"text-gray-500":1!==l.is_enabled}]])}," 售價："+(0,o.zw)(e.$filters.currencyJPY(l.price)),3)]))])]),(0,t._)("div",J,[T,(0,t._)("div",Y,[(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:l.id,"onUpdate:modelValue":e=>l.is_enabled=e,"true-value":1,"false-value":0,onChange:e=>h.updateEnabled(l)},null,40,O),[[a.e8,l.is_enabled]]),(0,t._)("label",{class:"form-check-label cursor-pointer fw-bold mb-3",for:l.id},[l.is_enabled?((0,t.wg)(),(0,t.iD)("span",Z,"啟用")):((0,t.wg)(),(0,t.iD)("span",H,"未啟用"))],8,S)])]),(0,t._)("div",B,[G,(0,t._)("div",K,[(0,t._)("button",{type:"button",class:"btn btn-outline-light-green",onClick:e=>h.openModal("edit",l)},E,8,W),(0,t._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>h.openModal("delete",l)},Q,8,j)])])],2)))),128))])),(0,t.Wm)(q,{"show-prod":m.createProdTemp},null,8,["show-prod"]),(0,t.Wm)(F,{"admin-prod":m.createProdTemp,"is-new":m.isNew,onGetAdminprods:h.getAdminProds},null,8,["admin-prod","is-new","onGetAdminprods"]),(0,t.Wm)(R,{"del-item":m.createProdTemp,"page-name":m.pageName,onGetItem:h.getAdminProds},null,8,["del-item","page-name","onGetItem"])],64)}s(7658);const X={class:"modal fade",tabindex:"-1","aria-labelledby":"prodModalLabel","aria-hidden":"true",ref:"prodModal"},ee={class:"modal-dialog modal-xl modal-dialog-centered"},le={class:"modal-content"},se={class:"modal-header"},te={class:"modal-title",id:"prodModalLabel"},oe=(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ae={class:"modal-body"},de=(0,t._)("p",{class:"text-secondary"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("為必填欄位 ")],-1),ie={class:"row"},re={class:"col-lg-7"},ne=(0,t._)("h5",{class:"h5"},"商品內容",-1),ce={class:"form-floating mb-3"},me=(0,t._)("label",{for:"title"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("商品名稱(title) ")],-1),pe={class:"row g-3"},be={class:"col-sm"},he={class:"form-floating mb-3"},ge=(0,t._)("option",{disabled:""},"請選擇",-1),ue=["value"],_e=(0,t._)("label",{for:"categories"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("分類(category)")],-1),we={class:"col-sm"},ve={class:"form-floating mb-3"},fe=(0,t._)("label",{for:"unit"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("單位(unit)")],-1),Pe={class:"row g-3"},ye={class:"col-sm"},ke={class:"form-floating mb-3"},xe=(0,t._)("label",{for:"origin_price"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("原價(origin price)")],-1),Ue={class:"col-sm"},Ce={class:"form-floating mb-3"},De=(0,t._)("label",{for:"price"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("售價(price)")],-1),Ne={class:"form-floating mb-3"},$e=(0,t._)("label",{for:"description"},"商品描述(description)",-1),Me={class:"form-floating mb-3"},ze=(0,t._)("label",{for:"ingredients"},"材料內容(ingredients)",-1),Le={class:"form-floating mb-3"},Ie=(0,t._)("label",{for:"content"},"商品規格(content)",-1),Ve={class:"form-check my-5"},Ae=(0,t._)("label",{class:"form-check-label",for:"is_enabled"}," 啟用 ",-1),Je={class:"col-lg-5"},Te=(0,t._)("h5",{class:"h5"},"商品圖片",-1),Ye={class:"row g-0 align-items-center"},Oe={class:"col-11"},Se={class:"form-floating mb-3"},Ze=(0,t._)("label",{for:"imageUrl"},[(0,t._)("span",{class:"text-danger me-1"},"*"),(0,t.Uk)("主要圖片網址")],-1),He={class:"col-1"},Be=(0,t._)("i",{class:"bi bi-trash-fill"},null,-1),Ge=[Be],Ke=["src","alt"],We=(0,t._)("h5",{class:"h5 mt-4"},"其餘圖片",-1),qe={key:0},Ee={class:"row g-0 align-items-center"},je={class:"col-11"},Fe={class:"form-floating mb-3"},Qe=["id","onUpdate:modelValue"],Re=["for"],Xe={class:"col-1"},el=["onClick"],ll=(0,t._)("i",{class:"bi bi-trash-fill"},null,-1),sl=[ll],tl=["src","alt"],ol={key:0},al={class:"d-grid mt-3"},dl={key:1},il={class:"d-grid mt-3"},rl={class:"modal-footer"},nl=(0,t._)("button",{type:"button",class:"btn btn-link text-decoration-none text-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function cl(e,l,s,d,i,r){return(0,t.wg)(),(0,t.iD)("div",X,[(0,t._)("div",ee,[(0,t._)("div",le,[(0,t._)("div",se,[(0,t._)("h5",te,(0,o.zw)(s.isNew?"新增商品":"編輯商品"),1),oe]),(0,t._)("div",ae,[de,(0,t._)("div",ie,[(0,t._)("div",re,[ne,(0,t._)("div",ce,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control border-0 border-bottom rounded-0",id:"title",placeholder:"商品名稱","onUpdate:modelValue":l[0]||(l[0]=e=>i.tempProd.title=e)},null,512),[[a.nr,i.tempProd.title]]),me]),(0,t._)("div",pe,[(0,t._)("div",be,[(0,t._)("div",he,[(0,t.wy)((0,t._)("select",{class:"form-select border-0 border-bottom rounded-0",id:"categories","aria-label":"Floating label select","onUpdate:modelValue":l[1]||(l[1]=e=>i.tempProd.category=e)},[ge,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.categories,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e,value:e},(0,o.zw)(e),9,ue)))),128))],512),[[a.bM,i.tempProd.category]]),_e])]),(0,t._)("div",we,[(0,t._)("div",ve,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control border-0 border-bottom rounded-0",id:"unit",placeholder:"單位","onUpdate:modelValue":l[2]||(l[2]=e=>i.tempProd.unit=e)},null,512),[[a.nr,i.tempProd.unit]]),fe])])]),(0,t._)("div",Pe,[(0,t._)("div",ye,[(0,t._)("div",ke,[(0,t.wy)((0,t._)("input",{type:"number",class:"form-control border-0 border-bottom rounded-0",id:"origin_price",placeholder:"原價",min:"0","onUpdate:modelValue":l[3]||(l[3]=e=>i.tempProd.origin_price=e)},null,512),[[a.nr,i.tempProd.origin_price]]),xe])]),(0,t._)("div",Ue,[(0,t._)("div",Ce,[(0,t.wy)((0,t._)("input",{type:"number",class:"form-control border-0 border-bottom rounded-0",id:"price",placeholder:"售價",min:"0","onUpdate:modelValue":l[4]||(l[4]=e=>i.tempProd.price=e)},null,512),[[a.nr,i.tempProd.price]]),De])])]),(0,t._)("div",Ne,[(0,t.wy)((0,t._)("textarea",{class:"form-control border-0 border-bottom rounded-0",placeholder:"Leave a comment here",id:"description",style:{height:"100px"},"onUpdate:modelValue":l[5]||(l[5]=e=>i.tempProd.description=e)},null,512),[[a.nr,i.tempProd.description]]),$e]),(0,t._)("div",Me,[(0,t.wy)((0,t._)("textarea",{class:"form-control border-0 border-bottom rounded-0",placeholder:"Leave a comment here",id:"ingredients",style:{height:"100px"},"onUpdate:modelValue":l[6]||(l[6]=e=>i.tempProd.ingredients=e)},null,512),[[a.nr,i.tempProd.ingredients]]),ze]),(0,t._)("div",Le,[(0,t.wy)((0,t._)("textarea",{class:"form-control border-0 border-bottom rounded-0",placeholder:"Leave a comment here",id:"content",style:{height:"100px"},"onUpdate:modelValue":l[7]||(l[7]=e=>i.tempProd.content=e)},null,512),[[a.nr,i.tempProd.content]]),Ie]),(0,t._)("div",Ve,[(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox",id:"is_enabled","onUpdate:modelValue":l[8]||(l[8]=e=>i.tempProd.is_enabled=e),"true-value":1,"false-value":0},null,512),[[a.e8,i.tempProd.is_enabled]]),Ae])]),(0,t._)("div",Je,[Te,(0,t._)("div",Ye,[(0,t._)("div",Oe,[(0,t._)("div",Se,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control border-0 border-bottom rounded-0",id:"imageUrl",placeholder:"主要圖片網址","onUpdate:modelValue":l[9]||(l[9]=e=>i.tempProd.imageUrl=e)},null,512),[[a.nr,i.tempProd.imageUrl]]),Ze])]),(0,t._)("div",He,[(0,t._)("button",{class:"btn btn-outline-danger border-0",onClick:l[10]||(l[10]=(...e)=>r.clear&&r.clear(...e))},Ge)]),(0,t._)("img",{src:i.tempProd.imageUrl,alt:i.tempProd.title,class:"w-100"},null,8,Ke)]),We,Array.isArray(i.tempProd.imagesUrl)?((0,t.wg)(),(0,t.iD)("div",qe,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.tempProd.imagesUrl,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:e},[(0,t._)("div",Ee,[(0,t._)("div",je,[(0,t._)("div",Fe,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control border-0 border-bottom rounded-0",id:`imagesUrl${Number.parseInt(l)}`,placeholder:"圖片網址","onUpdate:modelValue":e=>i.tempProd.imagesUrl[l]=e},null,8,Qe),[[a.nr,i.tempProd.imagesUrl[l]]]),(0,t._)("label",{for:`imagesUrl${Number.parseInt(l)}`},"圖片網址",8,Re)])]),(0,t._)("div",Xe,[(0,t._)("button",{class:"btn btn-outline-danger border-0",onClick:s=>r.delPics(l,e)},sl,8,el)])]),(0,t._)("img",{src:e,alt:i.tempProd.title_key,class:"w-100"},null,8,tl)])))),128)),!i.tempProd.imagesUrl.length||i.tempProd.imagesUrl[i.tempProd.imagesUrl.length-1]?((0,t.wg)(),(0,t.iD)("div",ol,[(0,t._)("div",al,[(0,t._)("button",{class:"btn btn-outline-dark",onClick:l[11]||(l[11]=(...e)=>r.addPics&&r.addPics(...e))}," 新增其餘圖片 ")])])):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",dl,[(0,t._)("div",il,[(0,t._)("button",{class:"btn btn-outline-dark",onClick:l[12]||(l[12]=e=>(this.tempProd.imagesUrl=[],r.addPics()))}," 新增其餘圖片 ")])]))])])]),(0,t._)("div",rl,[nl,(0,t._)("button",{type:"button",class:(0,o.C_)(["btn",[{"btn-dark":s.isNew},{"btn-light-green":!s.isNew}]]),onClick:l[13]||(l[13]=(...e)=>r.upProdBtn&&r.upProdBtn(...e))},[(0,t._)("i",{class:(0,o.C_)(["bi me-2",[{"bi-check-lg":s.isNew},{"bi-check-all":!s.isNew}]])},null,2),(0,t.Uk)((0,o.zw)(s.isNew?"確定新增":"確定修改"),1)],2)])])])],512)}let ml=null;var pl={data(){return{tempProd:{},categories:["握り寿司","裏巻き","海苔巻き","刺身"]}},props:["adminProd","isNew"],watch:{adminProd(){this.tempProd=this.adminProd}},methods:{upProdBtn(){let e=this.$loading.show(),l="https://vue3-course-api.hexschool.io/v2/api/letcla/admin/product",s="post";this.isNew||(l=`https://vue3-course-api.hexschool.io/v2/api/letcla/admin/product/${this.adminProd.id}`,s="put"),this.$http[s](l,{data:this.adminProd}).then((l=>{e.hide(),this.$emit("get-adminprods"),ml.hide(),setTimeout((()=>{alert(l.data.message)}),1e3)})).catch((l=>{e.hide(),alert(l.response.data.message)}))},addPics(){this.tempProd.imagesUrl.push("")},delPics(e){this.tempProd.imagesUrl.splice(e,1)},clear(){this.tempProd.imageUrl=""}},mounted(){ml=new bootstrap.Modal(this.$refs.prodModal,{backdrop:"static",keyboard:!1})}},bl=s(89);const hl=(0,bl.Z)(pl,[["render",cl]]);var gl=hl,ul=s(2316);const _l=e=>((0,t.dD)("data-v-d4f5648a"),e=e(),(0,t.Cn)(),e),wl={class:"modal fade",tabindex:"-1","aria-labelledby":"adminProdModalLabel","aria-hidden":"true",ref:"showAdminProdModal"},vl={class:"modal-dialog modal-xl modal-dialog-centered"},fl={class:"modal-content"},Pl=_l((()=>(0,t._)("div",{class:"modal-header"},[(0,t._)("h5",{class:"modal-title",id:"adminProdModalLabel"},"商品預覽"),(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),yl={class:"modal-body"},kl={class:"row"},xl={class:"col-md-5 col-lg-4"},Ul={class:"mainPic"},Cl=["src","alt"],Dl={class:"otherPics"},Nl=["src","alt"],$l={class:"col-md-7 col-lg-8"},Ml={class:"card border-0 bg-transparent"},zl={class:"card-body px-0"},Ll={class:""},Il={class:"badge rounded-pill bg-dark text-white px-3 mb-2"},Vl={class:"h2 mb-2"},Al={class:"fs-5d5"},Jl={class:"row align-items-lg-end mt-lg-5"},Tl={class:"col-lg-7"},Yl={key:0,class:"mb-0"},Ol={class:"fs-4"},Sl={key:1,class:"mb-0"},Zl={class:"fs-4 text-danger"},Hl={class:"text-secondary ms-2"},Bl=_l((()=>(0,t._)("div",{class:"modal-footer"},[(0,t._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," 關閉商品 ")],-1)));function Gl(e,l,s,a,d,i){return(0,t.wg)(),(0,t.iD)("div",wl,[(0,t._)("div",vl,[(0,t._)("div",fl,[Pl,(0,t._)("div",yl,[(0,t._)("div",kl,[(0,t._)("div",xl,[(0,t._)("div",Ul,[(0,t._)("img",{src:s.showProd.imageUrl,alt:s.showProd.category},null,8,Cl)]),(0,t._)("div",Dl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.showProd.imagesUrl,((e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:l},[""!==e?((0,t.wg)(),(0,t.iD)("img",{key:0,src:e,alt:s.showProd.title,class:(0,o.C_)(["rounded cursor-pointer me-2 mt-2",{border:e==s.showProd.imageUrl,"border-danger":e==s.showProd.imageUrl,"border-2":e==s.showProd.imageUrl}])},null,10,Nl)):(0,t.kq)("",!0)],64)))),128))])]),(0,t._)("div",$l,[(0,t._)("div",Ml,[(0,t._)("div",zl,[(0,t._)("div",Ll,[(0,t._)("span",Il,(0,o.zw)(s.showProd.category),1),(0,t._)("h2",Vl,(0,o.zw)(s.showProd.title),1)]),(0,t._)("p",Al,(0,o.zw)(s.showProd.description),1),(0,t._)("div",Jl,[(0,t._)("div",Tl,[s.showProd.price===s.showProd.origin_price?((0,t.wg)(),(0,t.iD)("p",Yl,[(0,t.Uk)(" 售價： "),(0,t._)("strong",Ol,(0,o.zw)(e.$filters.currencyJPY(s.showProd.price)),1),(0,t.Uk)(" "+(0,o.zw)(s.showProd.unit)+" / 元 ",1)])):((0,t.wg)(),(0,t.iD)("p",Sl,[(0,t.Uk)(" 優惠價： "),(0,t._)("strong",Zl,(0,o.zw)(e.$filters.currencyJPY(s.showProd.price)),1),(0,t._)("del",Hl,(0,o.zw)(e.$filters.currencyJPY(s.showProd.origin_price)),1),(0,t.Uk)(" "+(0,o.zw)(s.showProd.unit)+" / 元 ",1)]))])])])])])])]),Bl])])],512)}let Kl=null;var Wl={props:["showProd"],mounted(){Kl=new bootstrap.Modal(this.$refs.showAdminProdModal,{keyboard:!1})}};const ql=(0,bl.Z)(Wl,[["render",Gl],["__scopeId","data-v-d4f5648a"]]);var El=ql,jl={data(){return{adminProds:{},copyProds:[],pagination:"",isLoading:"",isNew:!0,pageName:"prodsList",createProdTemp:{imagesUrl:[]},searchItem:""}},props:["detectWidth"],watch:{searchItem(){this.filterSearch()}},components:{CreateProdComp:gl,DelAdminComp:ul.Z,AdminProdViewComp:El},methods:{getAdminProds(){let e=this.$loading.show();this.$http.get("https://vue3-course-api.hexschool.io/v2/api/letcla/admin/products/all").then((l=>{e.hide(),this.adminProds=Object.keys(l.data.products).map((e=>l.data.products[e])).reverse(),this.copyProds=this.adminProds,this.pagination=l.data.pagination})).catch((l=>{e.hide(),console.dir(l)}))},updateEnabled(e){let l=this.$loading.show();this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/letcla/admin/product/${e.id}`,{data:e}).then((s=>{l.hide(),this.createProdTemp=JSON.parse(JSON.stringify(e)),setTimeout((()=>{alert(s.data.message)}),600),this.getAdminProds()})).catch((e=>{l.hide(),alert(e.response.data.message)}))},openModal(e,l){"new"===e?(this.isNew=!0,this.createProdTemp={imagesUrl:[]},ml.show()):"edit"===e?(this.isNew=!1,this.createProdTemp=JSON.parse(JSON.stringify(l)),ml.show()):"delete"===e?(this.isNew=!1,this.createProdTemp={...l},ul._.show()):"detail"===e&&(this.isNew=!1,this.createProdTemp=l,Kl.show())},filterSearch(){const e=JSON.parse(JSON.stringify(this.adminProds)),l=[];e.filter((e=>{e.title.includes(this.searchItem)?l.push(e):""===this.searchItem&&l.push(this.adminProds)})),this.copyProds=l}},mounted(){this.getAdminProds()}};const Fl=(0,bl.Z)(jl,[["render",R]]);var Ql=Fl}}]);
//# sourceMappingURL=764.9cc87988.js.map