"use strict";(self["webpackChunkedomaeZushi"]=self["webpackChunkedomaeZushi"]||[]).push([[715],{2715:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var a=s(3396),i=s(9242),r=s(7139),c=s(2228),l=s(6761);const d=e=>((0,a.dD)("data-v-39ec1e4e"),e=e(),(0,a.Cn)(),e),o={class:"main"},n={class:"container py-3 pt-lg-5"},p=(0,a.uE)('<div class="row" data-v-39ec1e4e><div class="col-lg-8 col-xl-6 offset-lg-2 offset-xl-3" data-v-39ec1e4e><div class="text-center py-5" data-v-39ec1e4e><h2 class="display-6" data-v-39ec1e4e>私の注文</h2><p class="text-secondary" data-v-39ec1e4e> 過去の取引からの注文がここに表示されます。3 時間以上チェックアウトしない場合、注文はキャンセルされます。 </p></div></div></div>',1),h={class:"row"},u={class:"col-lg-6 offset-lg-3 col-xxl-4 offset-xxl-4"},g={class:"search mb-5"},v={class:"input-group position-relative"},b=d((()=>(0,a._)("i",{class:"bi bi-x-circle"},null,-1))),m=[b],f={key:0,class:"spinner-border spinner-border-sm me-1",role:"status"},y=d((()=>(0,a._)("span",{class:"visually-hidden"},"Loading...",-1))),x=[y],w={key:1,class:"bi bi-search me-1"},_={key:0},k={class:"row mb-4"},D={class:"card p-3 order-card shadow mx-auto mb-3",style:{width:"18rem"}},L={class:"img-cover text-center py-3 border-bottom"},I={key:0},O=d((()=>(0,a._)("img",{src:c,alt:"既に支払いました",class:"card-img-top object-fit-cover mb-2 w-25"},null,-1))),S={key:0,class:"h5 fw-bold text-light-green text-truncate"},C={key:1},$=d((()=>(0,a._)("img",{src:l,alt:"注文は未払い",class:"card-img-top object-fit-cover mb-2 w-25"},null,-1))),j=d((()=>(0,a._)("h3",{class:"h5 fw-bold text-deep-red text-truncate"}," 注文は未払い ",-1))),z=[$,j],J={class:"card-body text-center fs-7"},T={class:"text-truncate"},U={class:"text-truncate"},Z={class:"text-truncate fw-bold fs-5d5"},q={class:"card-footer border-top-0 pb-3"},N={class:"d-flex justify-content-center align-items-center"},P={key:1},Y=d((()=>(0,a._)("div",{class:"text-center mt-5"},[(0,a._)("p",null,"注文はありません。注文が正しいか確認してください。")],-1))),E=[Y];function H(e,t,s,c,l,d){const b=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",n,[p,(0,a._)("div",null,[(0,a._)("div",h,[(0,a._)("div",u,[(0,a._)("div",g,[(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control border-left ps-3",placeholder:"注文番号を入力してください","aria-label":"search","aria-describedby":"search","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchItem=e)},null,512),[[i.nr,l.searchItem,void 0,{trim:!0}]]),""!==l.searchItem?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-link position-absolute",style:{right:"6rem","z-index":"3"},onClick:t[1]||(t[1]=(...e)=>d.cleanText&&d.cleanText(...e))},m)):(0,a.kq)("",!0),(0,a._)("button",{class:"btn btn-dark ps-3 pe-4 d-flex align-items-center",type:"button",style:{"border-radius":"0 50px 50px 0"},onClick:t[2]||(t[2]=(...e)=>d.filterSearch&&d.filterSearch(...e))},[""!==l.isLoading?((0,a.wg)(),(0,a.iD)("div",f,x)):((0,a.wg)(),(0,a.iD)("i",w)),(0,a.Uk)(" 検索 ")])])])])]),0!==l.copyOrders.length?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.copyOrders,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t.id},[(0,a._)("div",D,[(0,a._)("div",L,[t.is_paid?((0,a.wg)(),(0,a.iD)("div",I,[O,t.is_paid?((0,a.wg)(),(0,a.iD)("h3",S," 既に支払いました ")):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",C,z))]),(0,a._)("div",J,[(0,a._)("p",T,(0,r.zw)(t.id),1),(0,a._)("p",U,(0,r.zw)(new Date(1e3*t.create_at).toLocaleString("ja-JP")),1),(0,a._)("p",Z,(0,r.zw)(e.$filters.currencyJPY(t.total)),1)]),(0,a._)("div",q,[(0,a._)("div",N,[(0,a.Wm)(b,{to:`/checkout/pay/${t.id}`,class:"btn hvr-btn-outline-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 詳しくはこちら ")])),_:2},1032,["to"])])])])])))),128))])])):((0,a.wg)(),(0,a.iD)("div",P,E))])])])}s(7658);var K={data(){return{orders:{},copyOrders:{},pagination:{},searchItem:"",isLoading:""}},methods:{getOrders(e=1){let t=this.$loading.show();this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/letcla/orders?page=${e}`).then((e=>{t.hide(),this.orders=e.data.orders,this.pagination=e.data.pagination})).catch((e=>{t.hide(),alert(e.response.data.message)}))},filterSearch(){this.isLoading="0";const e=JSON.parse(JSON.stringify(this.orders)),t=[];""===this.searchItem?(t.length=0,this.isLoading=""):e.filter((e=>{e.id===this.searchItem?(t.push(e),this.isLoading=""):this.isLoading=""})),this.copyOrders=t},cleanText(){this.searchItem="",this.isLoading=""}},mounted(){this.getOrders()}},R=s(89);const V=(0,R.Z)(K,[["render",H],["__scopeId","data-v-39ec1e4e"]]);var W=V},2228:function(e,t,s){e.exports=s.p+"img/pay.a3e3d33d.png"},6761:function(e,t,s){e.exports=s.p+"img/unpay.62a01866.png"}}]);
//# sourceMappingURL=715.7222423c.js.map