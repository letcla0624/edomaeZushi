"use strict";(self["webpackChunkedomaeZushi"]=self["webpackChunkedomaeZushi"]||[]).push([[26],{5743:function(t,e,s){s.d(e,{Z:function(){return o}});s(7658);function i(t){return{all:t=t||new Map,on:function(e,s){var i=t.get(e);i?i.push(s):t.set(e,[s])},off:function(e,s){var i=t.get(e);i&&(s?i.splice(i.indexOf(s)>>>0,1):t.set(e,[]))},emit:function(e,s){var i=t.get(e);i&&i.slice().map((function(t){t(s)})),(i=t.get("*"))&&i.slice().map((function(t){t(e,s)}))}}}const r=i();var o=r},3467:function(t,e,s){s.d(e,{Z:function(){return h}});var i=s(3396),r=s(7139);const o={style:{"--bs-breadcrumb-divider":"'／'"},"aria-label":"breadcrumb"},a={class:"breadcrumb mb-lg-5"},d=["onClick"],n={key:0,class:"fs-7"},l=(0,i._)("span",{class:"px-2"},"／",-1);function c(t,e,s,c,p,u){return(0,i.wg)(),(0,i.iD)("nav",o,[(0,i._)("ol",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.breadcrumbList,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{key:e+`_${t}`,class:"breadcrumb-item mb-2 fs-7",onClick:t=>u.routeTo(e)},(0,r.zw)(t.name),9,d)))),128)),s.prodTitle?((0,i.wg)(),(0,i.iD)("li",n,[l,(0,i.Uk)(" "+(0,r.zw)(s.prodTitle),1)])):(0,i.kq)("",!0)])])}s(7658);var p={data(){return{breadcrumbList:[]}},props:["prodTitle"],watch:{$route(){this.nowBreadcrumb()}},methods:{nowBreadcrumb(){this.breadcrumbList=this.$route.meta.breadcrumb},routeTo(t){this.breadcrumbList[t].link&&this.$router.push(this.breadcrumbList[t].link)}},mounted(){this.nowBreadcrumb()}},u=s(89);const m=(0,u.Z)(p,[["render",c]]);var h=m},8039:function(t,e,s){s.r(e),s.d(e,{default:function(){return at}});var i=s(3396),r=s(7139),o=s(9242);const a={class:"main"},d={class:"container"},n={class:"row py-3 py-lg-5"},l={class:"col-xl-10 offset-xl-1"},c={class:"row align-items-center g-3"},p={class:"col-lg-6"},u={class:"text-center"},m=["src","alt"],h={class:"col-lg-5"},b={class:"border-bottom pb-3"},g={class:"badge rounded-pill bg-dark mb-2"},f={class:"h2 mb-2"},v={key:0,class:"mb-0"},w=(0,i._)("span",{class:"align-top"},"¥ ",-1),y={class:"fs-4"},_={key:1,class:"mb-0"},I={class:"fw-bold me-2 text-danger"},k=(0,i._)("span",{class:"align-top"},"¥ ",-1),x={class:"fs-4"},$={class:"text-secondary fs-7"},C={class:"py-3"},L={class:"fs-7 mt-3 mb-1"},P={class:"fs-7"},D={class:"d-flex justify-content-between align-items-center mt-5"},q={class:"d-inline-flex border"},z=["disabled"],Z=(0,i._)("i",{class:"bi bi-dash-lg"},null,-1),S=[Z],F=["disabled"],T=(0,i._)("i",{class:"bi bi-plus-lg"},null,-1),B=[T],J={class:"d-flex mt-3"},O=["disabled"],U={key:0,class:"spinner-border spinner-border-sm me-1",role:"status"},j=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),N=[j],W={key:1,class:"bi bi-basket me-1"},E=(0,i._)("p",{class:"fs-8 text-secondary mt-2"}," * 写真はカルテからのもので、作品としてのみ使用されています ",-1),Y={class:"row py-5 border-top"},H=(0,i._)("h3",{class:"h4"},"他の人は食べる",-1);function K(t,e,s,Z,T,j){const K=(0,i.up)("BreadComp"),M=(0,i.up)("FavoriteComp"),V=(0,i.up)("SwiperComp");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",d,[(0,i.Wm)(K,{"prod-title":T.prod.title,class:"pt-5"},null,8,["prod-title"]),(0,i._)("div",n,[(0,i._)("div",l,[(0,i._)("div",c,[(0,i._)("div",p,[(0,i._)("div",u,[(0,i._)("img",{src:T.prod.imageUrl,alt:T.prod.title,class:"w-75",style:{"max-width":"400px"}},null,8,m)])]),(0,i._)("div",h,[(0,i._)("div",b,[(0,i._)("span",g,(0,r.zw)(T.prod.category),1),(0,i._)("h2",f,(0,r.zw)(T.prod.title),1),T.prod.price===T.prod.origin_price?((0,i.wg)(),(0,i.iD)("p",v,[w,(0,i._)("b",y,(0,r.zw)(t.$filters.thousandths(T.prod.price)),1)])):((0,i.wg)(),(0,i.iD)("p",_,[(0,i._)("span",I,[k,(0,i._)("b",x,(0,r.zw)(t.$filters.thousandths(T.prod.price)),1)]),(0,i._)("del",$,(0,r.zw)(t.$filters.currencyJPY(T.prod.origin_price)),1)]))]),(0,i._)("div",C,[(0,i._)("p",null,(0,r.zw)(T.prod.description),1),(0,i._)("p",L,"食材："+(0,r.zw)(T.prod.ingredients),1),(0,i._)("p",P,(0,r.zw)(T.prod.content)+"／1 "+(0,r.zw)(T.prod.unit),1),(0,i._)("div",D,[(0,i._)("div",q,[(0,i._)("button",{type:"button",class:"btn",onClick:e[0]||(e[0]=(...t)=>j.minusItem&&j.minusItem(...t)),disabled:T.isLoading===T.prod.id},S,8,z),(0,i.wy)((0,i._)("input",{type:"number",class:"form-control text-center border-0",min:"1","onUpdate:modelValue":e[1]||(e[1]=t=>T.qty=t),style:{width:"50px"},readonly:""},null,512),[[o.nr,T.qty]]),(0,i._)("button",{type:"button",class:"btn",onClick:e[2]||(e[2]=(...t)=>j.addItem&&j.addItem(...t)),disabled:T.isLoading===T.prod.id},B,8,F)]),(0,i.Wm)(M,{item:T.prod},null,8,["item"])]),(0,i._)("div",J,[(0,i._)("button",{type:"button",class:"btn hvr-btn-dark w-100 d-flex justify-content-center align-items-center",onClick:e[3]||(e[3]=t=>j.addCart(T.prod.id,T.qty)),disabled:T.isLoading===T.prod.id},[T.isLoading===T.prod.id?((0,i.wg)(),(0,i.iD)("div",U,N)):((0,i.wg)(),(0,i.iD)("i",W)),(0,i.Uk)(" カートに入れる ")],8,O)]),E])])])])]),(0,i._)("div",Y,[H,(0,i.Wm)(V,{onEmitId:j.getProdIdFromComp},null,8,["onEmitId"])])])])}var M=s(5743),V=s(3467),A=s(8278);const G=["title"],Q={key:0,class:"bi bi-balloon-heart-fill text-danger fs-2"},R={key:1,class:"bi bi-balloon-heart fs-2"};function X(t,e,s,r,o,a){return(0,i.wg)(),(0,i.iD)("button",{type:"button",class:"btn py-0 favorite-btn border-0",ref:s.item.id,title:o.favoriteProdId.includes(s.item.id)?"私のお気に入りの解除する":"私のお気に入りに追加",onClick:e[0]||(e[0]=t=>a.toggleFavorite(s.item.id))},[o.favoriteProdId.includes(s.item.id)?((0,i.wg)(),(0,i.iD)("i",Q)):((0,i.wg)(),(0,i.iD)("i",R))],8,G)}s(7658);var tt={data(){return{favoriteProdId:JSON.parse(localStorage.getItem("itemId"))||[]}},props:["item"],methods:{toggleFavorite(t){const e=this.favoriteProdId.findIndex((e=>e===t));-1===e?this.favoriteProdId.push(t):this.favoriteProdId.splice(e,1),localStorage.setItem("itemId",JSON.stringify(this.favoriteProdId)),this.$refs[`${t}`].classList.add("active"),setTimeout((()=>{this.$refs[`${t}`].classList.remove("active")}),600)}}},et=s(89);const st=(0,et.Z)(tt,[["render",X]]);var it=st,rt={data(){return{prod:[],qty:1,isLoading:"",favoriteProdId:JSON.parse(localStorage.getItem("favoriteProdId"))||[],pageId:this.$route.params.id}},inject:["emitter"],watch:{$route(){this.pageId=this.$route.params.id,void 0!==this.pageId&&this.getProd()}},components:{BreadComp:V.Z,SwiperComp:A.Z,FavoriteComp:it},methods:{getProd(){let t=this.$loading.show();this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/letcla/product/${this.pageId}`).then((e=>{t.hide(),this.prod=e.data.product})).catch((e=>{t.hide(),console.dir(e)}))},getProdIdFromComp(t){let e=this.$loading.show();this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/letcla/product/${t}`).then((t=>{e.hide(),this.prod=t.data.product,this.qty=1})).catch((t=>{e.hide(),console.dir(t)}))},addItem(){this.qty++},minusItem(){this.qty--,this.qty<=1&&(this.qty=1)},addCart(t,e=1){this.isLoading=t;const s={product_id:t,qty:e};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/letcla/cart",{data:s}).then((t=>{this.isLoading="",M.Z.emit("get-cart"),this.emitter.emit("toast-message",{style:"success",content:t.data.message})})).catch((t=>{this.isLoading="",this.emitter.emit("toast-message",{style:"error",content:t.response.data.message})}))}},mounted(){this.getProd()}};const ot=(0,et.Z)(rt,[["render",K]]);var at=ot}}]);
//# sourceMappingURL=26.4728531e.js.map